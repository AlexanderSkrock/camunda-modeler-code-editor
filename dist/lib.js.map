{"version":3,"file":"lib.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEpBA;AACA;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;;;;;ACFA;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AENA;AACA;AACA;AACA","sources":["webpack://camunda-modeler-code-editor/./lib/components/Modal.js","webpack://camunda-modeler-code-editor/./lib/components/index.js","webpack://camunda-modeler-code-editor/./lib/hooks/index.js","webpack://camunda-modeler-code-editor/./lib/hooks/useCodeEditorEvents.js","webpack://camunda-modeler-code-editor/./lib/hooks/useModeler.js","webpack://camunda-modeler-code-editor/./lib/hooks/useService.js","webpack://camunda-modeler-code-editor/./lib/index.js","webpack://camunda-modeler-code-editor/./lib/utils/events.js","webpack://camunda-modeler-code-editor/./lib/utils/index.js","webpack://camunda-modeler-code-editor/./node_modules/camunda-modeler-plugin-helpers/components.js","webpack://camunda-modeler-code-editor/./node_modules/camunda-modeler-plugin-helpers/react.js","webpack://camunda-modeler-code-editor/webpack/bootstrap","webpack://camunda-modeler-code-editor/webpack/runtime/compat get default export","webpack://camunda-modeler-code-editor/webpack/runtime/define property getters","webpack://camunda-modeler-code-editor/webpack/runtime/hasOwnProperty shorthand","webpack://camunda-modeler-code-editor/webpack/runtime/make namespace object","webpack://camunda-modeler-code-editor/webpack/before-startup","webpack://camunda-modeler-code-editor/webpack/startup","webpack://camunda-modeler-code-editor/webpack/after-startup"],"sourcesContent":["// eslint-disable-next-line no-unused-vars\nimport React from 'camunda-modeler-plugin-helpers/react';\nimport { Modal } from 'camunda-modeler-plugin-helpers/components';\nconst Title = Modal.Title || (({\n  children\n}) => /*#__PURE__*/React.createElement(\"h2\", null, children));\nconst Body = Modal.Body || (({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", null, children));\nconst Footer = Modal.Footer || (({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", null, children));\nexport default ({\n  title,\n  children,\n  onClose\n}) => /*#__PURE__*/React.createElement(Modal, {\n  onClose: onClose\n}, /*#__PURE__*/React.createElement(Title, null, title, \" \"), /*#__PURE__*/React.createElement(Body, null, \" \", children, \" \"), /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(\"button\", {\n  onClick: onClose\n}, \"Close\")));","export { default as Modal } from './Modal';","export { default as useModeler } from './useModeler';\nexport { default as useService } from './useService';\nexport { default as useCodeEditorEvents } from './useCodeEditorEvents';","import { events } from '../';\nconst DEFAULT_PRIORITY = 1000;\nconst ALL_FILTER = () => true;\nconst NO_OP = () => {};\n\n/**\r\n * The hook aims to simplify integration into code editor events.\r\n * <br/>\r\n * As sidenote, it is required to pass in both useCallback and useEffect because react implementation might vary.\r\n * It is necessary to use the React implementation for the current modeler component.\r\n * <br>\r\n * @param eventBus the current event bus\r\n * @param priority the priority for this hook that is used for event consumption\r\n * @param filter function that decides whether the current open event is relevant\r\n * @param onOpen handler what happens when opening a code editor was requested\r\n * @param onClose handler what happens when closing a code editor was requested\r\n * @param useCallback useCallback implementation for the environment\r\n * @param useEffect useCallback implementation for the environment\r\n * @return {[function,function]} functions to open or close the editor\r\n */\nexport default ({\n  eventBus,\n  priority = DEFAULT_PRIORITY,\n  openFilter = ALL_FILTER,\n  closeFilter = ALL_FILTER,\n  onOpen = NO_OP,\n  onClose = NO_OP,\n  useCallback,\n  useEffect\n}) => {\n  const handleOpen = useCallback(evt => {\n    if (!openFilter || openFilter(evt)) {\n      onOpen(evt);\n    }\n  }, [onOpen, onClose]);\n  const handleClose = useCallback(evt => {\n    if (!closeFilter || closeFilter(evt)) {\n      onClose(evt);\n    }\n  }, [closeFilter, onClose]);\n  useEffect(() => {\n    if (eventBus) {\n      eventBus.on(events.OPEN_CODE_EDITOR, priority, handleOpen);\n      eventBus.on(events.CLOSE_CODE_EDITOR, priority, handleClose);\n      return () => {\n        eventBus.off(events.OPEN_CODE_EDITOR, handleOpen);\n        eventBus.off(events.CLOSE_CODE_EDITOR, handleClose);\n      };\n    }\n  }, [eventBus, handleOpen, handleClose]);\n  const openCodeEditor = useCallback(({\n    element,\n    language,\n    value\n  }) => {\n    if (eventBus) {\n      eventBus.fire(events.OPEN_CODE_EDITOR, {\n        element,\n        language,\n        value\n      });\n    }\n  }, [eventBus]);\n  const closeCodeEditor = useCallback(({\n    element,\n    language,\n    value\n  }) => {\n    if (eventBus) {\n      eventBus.fire(events.CLOSE_CODE_EDITOR, {\n        element,\n        language,\n        value\n      });\n    }\n  }, [eventBus]);\n  return [openCodeEditor, closeCodeEditor];\n};","export default ({\n  subscribe,\n  useCallback,\n  useEffect,\n  useState\n}) => {\n  const [activeModeler, setActiveModeler] = useState();\n  const [tabModelers, setTabModelers] = useState([]);\n  const initModeler = useCallback(({\n    modeler,\n    tab\n  }) => {\n    setActiveModeler(modeler);\n    setTabModelers(prevTabModeler => ({\n      ...prevTabModeler,\n      [tab.id]: modeler\n    }));\n  }, []);\n  useEffect(() => {\n    subscribe('bpmn.modeler.created', ({\n      modeler,\n      tab\n    }) => {\n      initModeler({\n        modeler,\n        tab\n      });\n    });\n    subscribe('dmn.modeler.created', ({\n      modeler,\n      tab\n    }) => {\n      initModeler({\n        modeler,\n        tab\n      });\n    });\n    subscribe('app.activeTabChanged', tab => {\n      const activeTabId = tab.activeTab.id;\n      const activeTabModeler = tabModelers[activeTabId];\n      if (activeTabModeler) {\n        setActiveModeler(activeTabModeler);\n      }\n    });\n  }, []);\n  return [activeModeler];\n};","function safeServiceGetter(modeler, serviceName) {\n  if (!modeler || !serviceName) {\n    return null;\n  }\n  if (modeler.get) {\n    return modeler.get(serviceName);\n  } else {\n    return modeler['_' + serviceName];\n  }\n}\nexport default ({\n  modeler,\n  services,\n  useMemo\n}) => {\n  return useMemo(() => {\n    return services.map(service => safeServiceGetter(modeler, service));\n  }, [modeler, services]);\n};","export { Modal } from './components';\nexport { useModeler, useService, useCodeEditorEvents } from './hooks';\nexport { events } from './utils';","const codePrefix = 'code-editor';\nexport const OPEN_CODE_EDITOR = codePrefix + '.open';\nexport const CLOSE_CODE_EDITOR = codePrefix + '.close';","import * as events from './events';\nexport { events };","if (!window.components) {\n  throw notCompatible('3.4');\n}\n\nfunction notCompatible(requiredVersion) {\n  return new Error('Not compatible with Camunda Modeler < v' + requiredVersion);\n}\n\nexport const NotCompatible = function(requiredVersion) {\n  return function NotCompatibleComponent() {\n    throw notCompatible(requiredVersion);\n  };\n};\n\n/**\n * Fill component. Set `slot` to \"toolbar\" to include in the top toolbar.\n * Use `group` and `priority=0` to place for correct ordering. The higher\n * the priority, the earlier the Fill is displayed within the group.\n *\n * @type {import('react').ComponentType<{ slot: string, group?: string, priority?: Number }>}\n *\n * @example\n *\n * import { Fill } from 'camunda-modeler-plugin-helpers/components';\n *\n * function CustomFill(props) {\n *   return (\n *     <Fill group=\"4_export\" slot=\"toolbar\" priority={100}>\n *       <button type=\"button\" onClick={ props.openExportTool }>\n *         Open Export Tool\n *       </button>\n *     </Fill>\n *   );\n * }\n */\nexport const Fill = window.components.Fill;\n\n/**\n * Modal component.\n *\n * @type {import('react').ComponentType<{ onClose: Function }>}\n *\n * @example\n *\n * import { Modal } from 'camunda-modeler-plugin-helpers/components';\n *\n * function CustomModal(props) {\n *   return (\n *    <Modal onClose={ props.onClose }>\n *      <Modal.Title>\n *        Custom Modal\n *      </Modal.Title>\n *      <Modal.Body>\n *        Hello world!\n *      </Modal.Body>\n *      <Modal.Footer>\n *        <button type=\"button\" onClick={ props.onClose }>\n *          Close\n *        </button>\n *      </Modal.Footer>\n *    </Modal>\n *   );\n * }\n */\nexport const Modal = window.components.Modal;\n\n/**\n * Overlay component.\n *\n * @type {import('react').ComponentType<{ \n *  onClose: Function, \n *  anchor: Node, \n *  offset?: { top?: number, bottom?: number, left?: number, right?: number }, \n *  maxWidth?: number | string,\n *  maxHeight?: number | string,\n *  minWidth?: number | string,\n *  minHeight?: number | string\n * }>}\n *\n * @example\n * \n * import { Overlay } from 'camunda-modeler-plugin-helpers/components';\n *\n * function CustomOverlay(props) {\n *   return (\n *    <Overlay onClose={ props.onClose } anchor={ props.btn_ref } offset={ props.anchor }>\n *      <Overlay.Title>\n *        Custom Modal\n *      </Overlay.Title>\n *      <Overlay.Body>\n *        Hello world!\n *      </Overlay.Body>\n *      <Overlay.Footer>\n *        <button type=\"button\" onClick={ props.onClose }>\n *          Close\n *        </button>\n *      </Overlay.Footer>\n *    </Overlay>\n *   );\n * }\n */\n export const Overlay = window.components.Overlay || NotCompatible('5.0');\n\n /**\n * Section component.\n *\n * @type {import('react').ComponentType<{ maxHeight: Number | String, relativePos: Boolean } }>}\n *\n * @example\n * \n * import { Section } from 'camunda-modeler-plugin-helpers/components';\n *\n * function CustomSection(props) {\n *   return (\n *    <Section maxHeight=\"240px\">\n *     <Section.Header>\n *       Custom section\n *     </Section.Header>\n *     <Section.Body>\n *       Hello world!\n *     </Section.Body>\n *     <Section.Actions>\n *      <button type=\"button\" onClick={ props.onClose }>\n *        Close\n *      </button>\n *     </Section.Actions>\n *    </Section>\n *   );\n * }\n */\nexport const Section = window.components.Section || NotCompatible('5.0');\n\n /**\n * ToggleSwitch component.\n *\n * @type {import('react').ComponentType<{ id: string, name: string, label?: string, switcherLabel?: string, description?: string }>}\n *\n * @example\n * \n * import { ToggleSwitch } from 'camunda-modeler-plugin-helpers/components';\n *\n * function CustomToggle(props) {\n *   return (\n *    <Formik initialValues={ initialValues } onSubmit={ this.onSubmit }>\n *      {() => (\n *        <Form>\n *          <Field\n *            component={ ToggleSwitch }\n *            switcherLabel=\"Switcher label\"\n *            id={ id }\n *            name={ name }\n *            description=\"Toggle description\"\n *          />\n *        </Form>\n *       )}\n *    </Formik>\n *   );\n * }\n */\nexport const ToggleSwitch = window.components.ToggleSwitch || NotCompatible('5.0');","if (!window.react) {\n  throw new Error('Not compatible with Camunda Modeler < 3.4');\n}\n\n/**\n * React object used by Camunda Modeler. Use it to create UI extension.\n *\n * @type {import('react')}\n */\nmodule.exports = window.react;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./lib/index.js\");\n",""],"names":[],"sourceRoot":""}